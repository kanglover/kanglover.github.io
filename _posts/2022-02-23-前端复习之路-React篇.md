---
layout:     post
title:      Vue
date:       2022-02-23
author:     shaokang
catalog: true
tags:
    - 复习
---

## 组件基础
### 事件机制
React 并不是将 click 事件绑定到真实 DOM 上，而是在 document 处监听所有事件，当事件发生并冒泡到 document 处，React 将事件内容封装并交由真正的处理函数运行 --- 顶层事件代理机制。  
这样做的好处是不仅能减少内存的消耗、提高性能，还能在组件挂载和销毁时统一订阅和移除事件。


除此之外冒泡到 document 上的事件也不是原生浏览器事件，而是 React 自己实现的合成事件。因此如果要阻止事件冒泡的话，需要调用 event.preventDefault 方法而不是 event.stopPropagation。   
这样做的目的是：
1. [兼容浏览器，跨平台] 合成事件能抹平浏览器间的兼容问题，另外这是跨浏览的原生事件包装器，赋予了跨浏览器开发的能力。
2. [垃圾回收] 对原生浏览器事件来说，浏览器会给监听器创建一个事件对象。如果有多个事件监听，就需要分配多个事件对象，造成高额的内存分配问题。对合成事件而言，有专门的事件池来管理事件的创建和销毁，能够更好的复用和销毁。
3. [方便管理] 便于 React 统一管理和事务机制。

事件顺序：原生事件执行，合成事件执行，document 上监听的事件。




